<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - Statyba</title>
  <link rel="icon" href="https://placehold.co/16x16/000000/FFFFFF/png?text=EB" type="image/png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./assets/tailwind.css" />
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen font-[Inter]">
  <div id="admin-loading" class="fixed inset-0 flex items-center justify-center bg-white z-50">
    <div class="flex items-center gap-3 text-slate-600">
      <span class="spinner text-orange-600"></span>
      <span class="font-medium">Preparing admin tools...</span>
    </div>
  </div>

  <main class="page-container py-12 space-y-12">
    <div class="flex justify-end">
      <div id="language-selector" class="relative">
        <button id="language-toggle" type="button" class="flex items-center gap-2 bg-white border border-slate-200 text-slate-900 text-sm font-semibold px-4 py-2 rounded-full shadow-sm hover:shadow transition" aria-haspopup="true" aria-expanded="false" data-i18n-aria-label="language.toggleAria">
          <span id="language-toggle-label">LT</span>
          <svg class="w-4 h-4 text-slate-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.061l-4.24 4.24a.75.75 0 01-1.06 0l-4.24-4.24a.75.75 0 01.02-1.06z" clip-rule="evenodd"/>
          </svg>
        </button>
        <div id="language-menu" class="absolute right-0 mt-2 w-44 bg-white border border-slate-200 rounded-2xl shadow-xl py-1 hidden z-10" role="menu" aria-label="Select language" data-i18n-aria-label="language.menuLabel">
          <button type="button" class="language-option flex items-center justify-between w-full px-4 py-2 text-sm text-slate-600 hover:bg-slate-50" data-language-option="lt" data-i18n-aria-label="language.optionLtAria">
            <span class="font-semibold text-slate-900">LT</span>
            <span class="text-xs text-slate-500">Lietuvių</span>
          </button>
          <button type="button" class="language-option flex items-center justify-between w-full px-4 py-2 text-sm text-slate-600 hover:bg-slate-50" data-language-option="en" data-i18n-aria-label="language.optionEnAria">
            <span class="font-semibold text-slate-900">EN</span>
            <span class="text-xs text-slate-500">English</span>
          </button>
        </div>
      </div>
    </div>

    <section id="admin-login-section" class="max-w-xl mx-auto bg-white rounded-3xl shadow-2xl p-8 space-y-6 hidden" hidden style="display:none;">
      <div class="text-center space-y-3">
        <p id="login-badge-text" class="text-sm uppercase tracking-wide text-orange-600 font-semibold" data-i18n="login.badge">Admin access</p>
        <h1 id="login-heading-text" class="text-3xl font-bold" data-i18n="login.heading">Sign in to continue</h1>
      </div>
      <div class="space-y-3">
        <button id="google-login-button" class="w-full flex items-center justify-center gap-3 bg-white text-slate-900 border border-slate-200 font-semibold py-3 rounded-2xl shadow-lg hover:shadow-xl transition" aria-label="Sign in with Google" data-i18n-aria-label="login.googleAria">
          <svg class="w-5 h-5" viewBox="0 0 533.5 544.3" aria-hidden="true">
            <path fill="#4285f4" d="M533.5 278.4c0-17.4-1.6-34.1-4.7-50.2H272v95h146.9c-6.3 34-25 62.8-53.3 82v68h86.2c50.5-46.6 81.7-115.4 81.7-194.8z"/>
            <path fill="#34a853" d="M272 544.3c72.5 0 133.3-24 177.7-65.1l-86.2-68c-23.9 16.1-54.6 25.5-91.5 25.5-70.3 0-129.9-47.5-151.2-111.2h-89v69.9C75.4 482.1 167.7 544.3 272 544.3z"/>
            <path fill="#fbbc05" d="M120.8 325.5c-10.3-30.9-10.3-64.1 0-95l-89-69.9C4.4 210 0 239.4 0 272.2s4.4 62.1 31.8 111.6l89-69.9z"/>
            <path fill="#ea4335" d="M272 107.7c39.5 0 75 13.6 103 40.3l77.2-77.2C405.1 24 344.3 0 272 0 167.7 0 75.4 62.2 31.8 160.6l89 69.9C142.1 155.2 201.7 107.7 272 107.7z"/>
          </svg>
          <span id="google-login-text" data-i18n="login.googleButton">Continue with Google</span>
          <span id="google-login-spinner" class="spinner hidden" role="status" aria-label="Signing in" data-i18n-aria-label="login.spinnerAria"></span>
        </button>
        <p id="login-error-message" class="text-sm text-red-600 text-center hidden" aria-live="assertive"></p>
      </div>
    </section>

    <section id="admin-dashboard" class="space-y-8 hidden" hidden style="display:none;" aria-hidden="true">
      <header class="flex flex-wrap items-center justify-between gap-4">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 rounded-2xl bg-gradient-to-r from-orange-600 to-red-600 flex items-center justify-center shadow-md editable-element" data-editable-gradient-id="logo-s-bg-gradient">
            <span class="text-white text-xl font-bold editable-element" data-editable-text-id="logo-s-text" data-editable-color-id="logo-s-color">EB</span>
          </div>
          <div>
            <p class="text-sm uppercase tracking-wide text-orange-600 font-semibold">Statyba</p>
            <div class="flex items-center gap-2">
              <h1 class="text-3xl font-bold" data-i18n="header.title">Admin Panel</h1>
            </div>
            <p class="text-slate-500" id="user-display"></p>
          </div>
        </div>
        <button id="main-logout-btn" class="px-5 py-2 rounded-full bg-white text-slate-900 font-semibold border border-slate-300 shadow-sm hover:bg-slate-50 transition" data-i18n="buttons.logout">Logout</button>
      </header>

      <div class="bg-white rounded-2xl border border-slate-200 p-2 flex flex-wrap gap-2" role="tablist">
        <button class="tab-btn active flex-1 rounded-xl px-4 py-2 font-semibold" data-tab="live-editor" id="live-editor-tab-btn" role="tab" aria-selected="true" aria-controls="live-editor-tab" tabindex="0" data-i18n="tabs.liveEditor">Live Editor</button>
        <button class="tab-btn flex-1 rounded-xl px-4 py-2 font-semibold" data-tab="project-management" id="projects-tab-btn" role="tab" aria-selected="false" aria-controls="project-management-tab" tabindex="-1" data-i18n="tabs.projects">Projects</button>
        <button class="tab-btn flex-1 rounded-xl px-4 py-2 font-semibold relative" data-tab="messages" id="messages-tab-btn" role="tab" aria-selected="false" aria-controls="messages-tab" tabindex="-1">
          <span class="flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-18 8V8a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
            </svg>
            <span data-i18n="tabs.messages">Messages</span>
          </span>
          <span id="messages-unread-badge" class="absolute -top-1 -right-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-[10px] font-semibold text-white bg-red-600 hidden shadow-sm"></span>
        </button>
      </div>

      <div id="live-editor-tab" class="tab-content" role="tabpanel" aria-labelledby="live-editor-tab-btn">
        <div class="space-y-6">
          <section class="bg-white rounded-2xl border border-slate-200 p-6 space-y-4">
            <div class="flex flex-wrap items-center gap-4">
              <div class="flex-1 min-w-[220px]">
                <p class="text-xs uppercase tracking-wide text-orange-600 font-semibold" data-i18n="liveEditor.quickActionsBadge">Quick actions</p>
                <h2 class="text-xl font-semibold mt-1" data-i18n="liveEditor.quickActionsTitle">Live Website Editor</h2>
                <p class="text-sm text-slate-500" data-i18n="liveEditor.quickActionsDescription">Reload preview, reset to defaults, or manage presets.</p>
              </div>
              <div class="flex flex-wrap gap-3">
                <button id="reload-site-button" class="bg-slate-900 text-white px-4 py-2 rounded-xl font-semibold hover:opacity-90 transition" data-i18n="buttons.reloadPreview">Reload Preview</button>
                <button id="reset-site-button" class="bg-red-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-700 transition" data-i18n="buttons.resetDefaults">Reset To Default</button>
                <button id="open-presets-button" class="bg-blue-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-blue-700 transition" data-i18n="buttons.managePresets">Manage Presets</button>
              </div>
            </div>
            <p class="text-xs text-slate-500" data-i18n="liveEditor.resetWarning">Reset replaces all editable text, colors, media, and layout overrides with the default template. Save a preset first if you want to keep the current layout.</p>
          </section>

          <div class="relative w-full h-[calc(100vh-260px)] rounded-3xl border border-slate-200 overflow-hidden bg-slate-100">
            <iframe id="live-editor-iframe" src="index.html" class="w-full h-full border-none"></iframe>
            <div id="live-editor-loading" class="absolute inset-0 bg-white/90 backdrop-blur flex items-center justify-center flex-col gap-3">
              <span class="spinner text-orange-600"></span>
              <p class="text-slate-500" data-i18n="liveEditor.loading">Loading live editor…</p>
            </div>
          </div>
        </div>
      </div>

      <div id="project-management-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="projects-tab-btn">
        <div class="grid lg:grid-cols-[360px_1fr] gap-6">
          <form id="add-project-form" class="bg-white rounded-2xl border border-slate-200 p-6 space-y-4">
            <div>
              <h3 class="text-xl font-semibold" data-i18n="projects.formTitle">Add new project</h3>
              <p class="text-sm text-slate-500" data-i18n="projects.formDescription">Create a portfolio entry and upload images.</p>
            </div>
            <div class="space-y-3">
              <input type="text" id="project-title" placeholder="Project title" required class="w-full p-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-orange-500" data-i18n-placeholder="projects.titlePlaceholder" />
              <textarea id="project-description" placeholder="Project description" rows="4" required class="w-full p-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none" data-i18n-placeholder="projects.descriptionPlaceholder"></textarea>
              <label class="block text-sm font-semibold text-slate-600" data-i18n="projects.imageLabel">Įkelkite projekto nuotraukas</label>
              <div class="flex items-center gap-3">
                <label for="project-image" class="inline-flex items-center justify-center bg-white border border-slate-300 text-slate-900 rounded-xl px-4 py-2 font-semibold cursor-pointer hover:bg-slate-50 transition">Pasirinkti failus</label>
                <span id="project-image-filename" class="text-sm text-slate-500">Failai nepasirinkti</span>
              </div>
              <input type="file" id="project-image" accept="image/*" multiple class="hidden" />
              <div id="image-preview-container" class="flex flex-wrap gap-2"></div>
              <div id="existing-project-images" class="space-y-2 hidden">
                <div class="flex items-center justify-between">
                  <p class="text-sm font-semibold text-slate-600">Esamos nuotraukos</p>
                  <span class="text-xs text-slate-500">Šalinti / grąžinti galima po vieną nuotrauką.</span>
                </div>
                <p id="existing-project-images-empty" class="text-sm text-slate-500 hidden">Šis projektas neturi įkeltų nuotraukų.</p>
                <div id="existing-project-images-container" class="flex flex-wrap gap-2"></div>
                <p class="text-xs text-slate-500 text-right" id="existing-project-images-hint">Pašalintos nuotraukos bus ištrintos tik išsaugojus projektą.</p>
              </div>
            </div>
            <button type="submit" id="add-project-btn" class="w-full bg-slate-900 text-white rounded-xl py-3 font-semibold flex items-center justify-center gap-2">
              <span id="add-project-btn-text" data-i18n="projects.submit">Publish project</span>
              <span id="add-project-spinner" class="spinner hidden"></span>
            </button>
            <p id="add-project-error" class="text-sm text-red-600 hidden"></p>
          </form>

          <div class="bg-white rounded-2xl border border-slate-200 p-6">
            <div class="flex items-center justify-between mb-4">
              <div>
                <h3 class="text-lg font-semibold" data-i18n="projects.listTitle">Existing projects</h3>
                <p class="text-sm text-slate-500" data-i18n="projects.listDescription">Click a card to view or delete.</p>
              </div>
              <span class="text-xs text-slate-400" id="loading-projects" data-i18n="status.loading">Loading…</span>
            </div>
            <div id="projects-error" class="text-sm text-red-600 hidden" data-i18n="projects.error">Failed to load projects.</div>
            <div id="projects-list" class="space-y-4"></div>
          </div>
        </div>
      </div>

      <div id="messages-tab" class="tab-content hidden" role="tabpanel" aria-labelledby="messages-tab-btn">
        <div class="bg-white rounded-2xl border border-slate-200 p-6 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-xl font-semibold" data-i18n="messages.title">Newest messages</h3>
              <p class="text-sm text-slate-500" data-i18n="messages.description">Respond directly from your mail client.</p>
            </div>
            <span class="text-xs text-slate-400" id="loading-messages" data-i18n="status.loading">Loading…</span>
          </div>
          <div id="messages-error" class="text-sm text-red-600 hidden" data-i18n="messages.error">Failed to load messages.</div>
          <div id="messages-list" class="space-y-3"></div>
        </div>
      </div>
    </section>
  </main>

  <div id="message-detail-modal-overlay" class="fixed inset-0 bg-black/60 z-50 hidden items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="message-detail-title">
    <div id="message-detail-modal" class="bg-white rounded-3xl w-full max-w-2xl p-6 space-y-6 shadow-2xl">
      <div class="flex items-start justify-between gap-4">
        <div class="space-y-1">
          <p class="text-sm uppercase tracking-wide text-orange-600 font-semibold" data-i18n="messageModal.badge">Message details</p>
          <h3 id="message-detail-title" class="text-2xl font-bold">Message title</h3>
          <p id="message-detail-date" class="text-sm text-slate-500">Received just now</p>
        </div>
        <button id="message-detail-close-btn" class="p-2 rounded-full hover:bg-slate-100 transition" aria-label="Close message details" data-i18n-aria-label="messageModal.closeAria">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="grid gap-4 md:grid-cols-2">
        <div>
          <p class="text-xs uppercase tracking-wide text-slate-400 font-semibold" data-i18n="messageModal.senderLabel">Sender</p>
          <p id="message-detail-name" class="text-lg font-semibold text-slate-900">—</p>
        </div>
        <div>
          <p class="text-xs uppercase tracking-wide text-slate-400 font-semibold" data-i18n="messageModal.emailLabel">Email</p>
          <a id="message-detail-email" href="#" class="text-sm font-semibold text-blue-600 break-all" target="_blank" rel="noreferrer noopener">—</a>
        </div>
        <div>
          <p class="text-xs uppercase tracking-wide text-slate-400 font-semibold" data-i18n="messageModal.phoneLabel">Phone</p>
          <p id="message-detail-phone" class="text-sm text-slate-600">—</p>
        </div>
      </div>
      <div class="space-y-2">
        <p class="text-xs uppercase tracking-wide text-slate-400 font-semibold" data-i18n="messageModal.messageLabel">Message</p>
        <p id="message-detail-body" class="text-base text-slate-700 whitespace-pre-wrap bg-slate-50 rounded-2xl p-4 min-h-[120px]">—</p>
      </div>
      <div class="flex flex-wrap items-center justify-between gap-3">
        <button id="message-detail-delete-btn" class="px-5 py-2 rounded-full bg-red-600 text-white font-semibold hover:bg-red-700 transition" data-i18n="buttons.delete">Delete</button>
        <button id="message-detail-reply-btn" class="px-5 py-2 rounded-full bg-blue-600 text-white font-semibold hover:bg-blue-700 transition" data-i18n="buttons.reply">Reply</button>
      </div>
    </div>
  </div>

  <div id="live-editor-edit-modal-overlay" class="fixed inset-0 bg-black/60 z-50 hidden p-4" role="dialog" aria-modal="true" aria-labelledby="live-editor-edit-modal-title">
    <div id="live-editor-edit-modal" class="live-editor-modal bg-white rounded-2xl w-full max-w-2xl p-6 space-y-5 border-2 border-slate-900 shadow-2xl">
      <div class="flex items-start justify-between" id="live-editor-edit-modal-header">
        <div>
          <p class="text-sm uppercase tracking-wide text-orange-600 font-semibold" data-i18n="editModal.badge">Edit element</p>
          <h3 id="live-editor-edit-modal-title" class="text-2xl font-bold" data-i18n="editModal.title">Edit Element</h3>
        </div>
        <button id="live-editor-edit-modal-close-btn" class="p-2 rounded-full hover:bg-slate-100" aria-label="Close edit modal" data-i18n-aria-label="editModal.closeAria">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="space-y-5">
        <div id="edit-text-section" class="space-y-2 hidden">
          <label for="edit-live-text-area" class="text-sm font-semibold" data-i18n="editModal.textContentLabel">Text content</label>
          <textarea id="edit-live-text-area" class="w-full p-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 resize-none" rows="4"></textarea>
        </div>
        <div id="edit-text-color-section" class="space-y-2 hidden">
          <label class="text-sm font-semibold" data-i18n="editModal.textColorLabel">Text color</label>
          <div class="flex items-center gap-3">
            <input type="color" id="edit-live-text-color-picker" class="w-12 h-12 rounded-xl border border-slate-200" />
            <input type="text" id="edit-live-text-color-hex" class="flex-1 p-3 border border-slate-200 rounded-xl" placeholder="#000000" />
          </div>
        </div>
        <div id="edit-text-outline-section" class="space-y-2 hidden">
          <div class="flex items-center justify-between">
            <span class="text-sm font-semibold" data-i18n="editModal.textOutlineLabel">Text outline</span>
            <label class="inline-flex items-center gap-2 text-sm">
              <input type="checkbox" id="edit-text-outline-toggle" class="w-4 h-4 rounded border border-slate-300" />
              <span data-i18n="editModal.textOutlineToggle">Enable outline</span>
            </label>
          </div>
          <div class="flex items-center gap-3" id="edit-text-outline-color-row">
            <input type="color" id="edit-text-outline-color-picker" class="w-12 h-12 rounded-xl border border-slate-200" />
            <input type="text" id="edit-text-outline-color-hex" class="flex-1 p-3 border border-slate-200 rounded-xl" placeholder="#000000" />
          </div>
          <div class="flex items-center gap-3" id="edit-text-outline-thickness-row">
            <label for="edit-text-outline-width" class="text-sm font-semibold" data-i18n="editModal.textOutlineWidthLabel">Thickness</label>
            <input type="range" id="edit-text-outline-width" min="0" max="4" step="0.5" class="flex-1" />
            <span id="edit-text-outline-width-value" class="text-sm w-10 text-right">1px</span>
          </div>
        </div>
        <div id="edit-link-section" class="space-y-2 hidden">
          <label class="text-sm font-semibold" data-i18n="editModal.linkLabel">Link URL</label>
          <input type="url" id="edit-link-input" class="w-full p-3 border border-slate-200 rounded-xl" placeholder="https://example.com" data-i18n-placeholder="editModal.linkPlaceholder" />
        </div>
        <div id="edit-color-section" class="space-y-2 hidden">
          <label class="text-sm font-semibold" data-i18n="editModal.backgroundColorLabel">Background color</label>
          <div class="flex items-center gap-3">
            <input type="color" id="edit-live-color-picker" class="w-12 h-12 rounded-xl border border-slate-200" />
            <input type="text" id="edit-live-color-hex" class="flex-1 p-3 border border-slate-200 rounded-xl" placeholder="#ffffff" />
          </div>
        </div>
        <div id="edit-background-section" class="space-y-3 hidden">
          <label class="text-sm font-semibold" data-i18n="editModal.backgroundTypeLabel">Background type</label>
          <div class="flex gap-4 text-sm">
            <label class="flex items-center gap-2"><input type="radio" name="background-type" id="background-type-gradient" value="gradient" checked /> <span data-i18n="editModal.gradientOption">Gradient</span></label>
            <label class="flex items-center gap-2"><input type="radio" name="background-type" id="background-type-image" value="image" /> <span data-i18n="editModal.imageOption">Image</span></label>
          </div>
          <div id="edit-gradient-section" class="grid gap-3 md:grid-cols-2 hidden">
            <div class="space-y-2">
              <label class="text-sm font-semibold" data-i18n="editModal.color1Label">Color 1</label>
              <input type="color" id="edit-live-gradient-color1" class="w-full h-12 rounded-xl border border-slate-200" />
              <input type="text" id="edit-live-gradient-hex1" class="w-full p-3 border border-slate-200 rounded-xl" placeholder="#F97316" />
            </div>
            <div class="space-y-2">
              <label class="text-sm font-semibold" data-i18n="editModal.color2Label">Color 2</label>
              <input type="color" id="edit-live-gradient-color2" class="w-full h-12 rounded-xl border border-slate-200" />
              <input type="text" id="edit-live-gradient-hex2" class="w-full p-3 border border-slate-200 rounded-xl" placeholder="#EF4444" />
            </div>
            <div class="md:col-span-2 space-y-2">
              <label class="text-sm font-semibold" data-i18n="editModal.directionLabel">Direction</label>
              <select id="edit-live-gradient-direction" class="w-full p-3 border border-slate-200 rounded-xl">
                <option value="90deg" data-i18n="editModal.directionHorizontal">Left → Right</option>
                <option value="180deg" data-i18n="editModal.directionVertical">Top → Bottom</option>
                <option value="45deg" data-i18n="editModal.directionDiagonal">Diagonal</option>
              </select>
            </div>
          </div>
          <div id="edit-image-section" class="space-y-3 hidden">
            <input type="text" id="edit-live-image-url" class="w-full p-3 border border-slate-200 rounded-xl" placeholder="Image URL" data-i18n-placeholder="editModal.imageUrlPlaceholder" />
            <input type="file" id="edit-live-image-upload" accept="image/*" class="w-full" />
            <img id="edit-live-image-preview" class="w-full rounded-xl hidden" alt="Image preview" data-i18n-alt="editModal.imagePreviewAlt" />
          </div>
        </div>
      </div>
      <div class="flex justify-end gap-3">
        <button id="live-editor-edit-modal-cancel-btn" class="px-4 py-2 rounded-xl border border-slate-200" data-i18n="buttons.cancel">Cancel</button>
        <button id="live-editor-edit-modal-save-btn" class="px-5 py-2 rounded-xl bg-blue-600 text-white font-semibold flex items-center gap-2 hover:bg-blue-700 transition">
          <span id="live-editor-edit-modal-save-text" data-i18n="buttons.save">Save</span>
          <span id="live-editor-edit-modal-spinner" class="spinner hidden" role="status" aria-label="Saving edit" data-i18n-aria-label="editModal.savingAria"></span>
        </button>
      </div>
    </div>
  </div>

  <div id="preset-manager-modal" class="fixed inset-0 bg-black/60 z-50 hidden items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="preset-manager-title">
    <div class="bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-y-auto p-6 space-y-4">
      <div class="flex items-start justify-between">
        <div>
          <p class="text-sm uppercase tracking-wide text-orange-600 font-semibold" data-i18n="presets.badge">Layouts</p>
          <h3 id="preset-manager-title" class="text-2xl font-bold" data-i18n="presets.title">Manage Presets</h3>
          <p class="text-sm text-slate-500" data-i18n="presets.description">Save up to five layouts and switch between them instantly.</p>
        </div>
        <button id="close-presets-button" class="p-2 rounded-full hover:bg-slate-100" aria-label="Close preset manager" data-i18n-aria-label="presets.closeAria">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="flex items-center justify-between">
        <p class="text-sm text-slate-500" data-i18n="presets.info">Each slot stores text, colors, media, and layout overrides.</p>
        <button id="refresh-presets-button" class="text-sm font-semibold text-blue-600" data-i18n="buttons.refresh">Refresh</button>
      </div>
      <div id="preset-card-container" class="grid gap-4 md:grid-cols-2">
        <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50 space-y-2" data-preset-slot="1">
          <div class="flex items-center justify-between">
            <p class="font-semibold" data-i18n="presets.slot1">Preset 1</p>
            <span class="text-xs text-slate-500" data-preset-status data-i18n="presets.emptyStatus">Empty</span>
          </div>
          <input type="text" class="w-full p-3 rounded-xl border border-slate-200" placeholder="Preset name" data-preset-name-input data-i18n-placeholder="presets.namePlaceholder" />
          <div class="flex items-center gap-2">
            <button class="flex-1 bg-blue-600 text-white rounded-xl py-2 font-semibold" data-preset-save data-i18n="buttons.save">Save</button>
            <button class="flex-1 bg-white border border-blue-600 text-blue-600 rounded-xl py-2 font-semibold disabled:opacity-40" data-preset-load disabled data-i18n="buttons.load">Load</button>
            <button class="px-4 py-2 rounded-xl border border-slate-200 text-slate-600 disabled:opacity-40" data-preset-delete disabled data-i18n="buttons.delete">Delete</button>
          </div>
          <p class="text-xs text-slate-500" data-preset-meta data-i18n="presets.neverSaved">Never saved</p>
        </div>
        <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50 space-y-2" data-preset-slot="2">
          <div class="flex items-center justify-between">
            <p class="font-semibold" data-i18n="presets.slot2">Preset 2</p>
            <span class="text-xs text-slate-500" data-preset-status data-i18n="presets.emptyStatus">Empty</span>
          </div>
          <input type="text" class="w-full p-3 rounded-xl border border-slate-200" placeholder="Preset name" data-preset-name-input data-i18n-placeholder="presets.namePlaceholder" />
          <div class="flex items-center gap-2">
            <button class="flex-1 bg-blue-600 text-white rounded-xl py-2 font-semibold" data-preset-save data-i18n="buttons.save">Save</button>
            <button class="flex-1 bg-white border border-blue-600 text-blue-600 rounded-xl py-2 font-semibold disabled:opacity-40" data-preset-load disabled data-i18n="buttons.load">Load</button>
            <button class="px-4 py-2 rounded-xl border border-slate-200 text-slate-600 disabled:opacity-40" data-preset-delete disabled data-i18n="buttons.delete">Delete</button>
          </div>
          <p class="text-xs text-slate-500" data-preset-meta data-i18n="presets.neverSaved">Never saved</p>
        </div>
        <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50 space-y-2" data-preset-slot="3">
          <div class="flex items-center justify-between">
            <p class="font-semibold" data-i18n="presets.slot3">Preset 3</p>
            <span class="text-xs text-slate-500" data-preset-status data-i18n="presets.emptyStatus">Empty</span>
          </div>
            <input type="text" class="w-full p-3 rounded-xl border border-slate-200" placeholder="Preset name" data-preset-name-input data-i18n-placeholder="presets.namePlaceholder" />
            <div class="flex items-center gap-2">
              <button class="flex-1 bg-blue-600 text-white rounded-xl py-2 font-semibold" data-preset-save data-i18n="buttons.save">Save</button>
              <button class="flex-1 bg-white border border-blue-600 text-blue-600 rounded-xl py-2 font-semibold disabled:opacity-40" data-preset-load disabled data-i18n="buttons.load">Load</button>
              <button class="px-4 py-2 rounded-xl border border-slate-200 text-slate-600 disabled:opacity-40" data-preset-delete disabled data-i18n="buttons.delete">Delete</button>
            </div>
            <p class="text-xs text-slate-500" data-preset-meta data-i18n="presets.neverSaved">Never saved</p>
        </div>
        <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50 space-y-2" data-preset-slot="4">
          <div class="flex items-center justify-between">
            <p class="font-semibold" data-i18n="presets.slot4">Preset 4</p>
            <span class="text-xs text-slate-500" data-preset-status data-i18n="presets.emptyStatus">Empty</span>
          </div>
          <input type="text" class="w-full p-3 rounded-xl border border-slate-200" placeholder="Preset name" data-preset-name-input data-i18n-placeholder="presets.namePlaceholder" />
          <div class="flex items-center gap-2">
            <button class="flex-1 bg-blue-600 text-white rounded-xl py-2 font-semibold" data-preset-save data-i18n="buttons.save">Save</button>
            <button class="flex-1 bg-white border border-blue-600 text-blue-600 rounded-xl py-2 font-semibold disabled:opacity-40" data-preset-load disabled data-i18n="buttons.load">Load</button>
            <button class="px-4 py-2 rounded-xl border border-slate-200 text-slate-600 disabled:opacity-40" data-preset-delete disabled data-i18n="buttons.delete">Delete</button>
          </div>
          <p class="text-xs text-slate-500" data-preset-meta data-i18n="presets.neverSaved">Never saved</p>
        </div>
        <div class="p-4 rounded-2xl border border-slate-200 bg-slate-50 space-y-2" data-preset-slot="5">
          <div class="flex items-center justify-between">
            <p class="font-semibold" data-i18n="presets.slot5">Preset 5</p>
            <span class="text-xs text-slate-500" data-preset-status data-i18n="presets.emptyStatus">Empty</span>
          </div>
          <input type="text" class="w-full p-3 rounded-xl border border-slate-200" placeholder="Preset name" data-preset-name-input data-i18n-placeholder="presets.namePlaceholder" />
          <div class="flex items-center gap-2">
            <button class="flex-1 bg-blue-600 text-white rounded-xl py-2 font-semibold" data-preset-save data-i18n="buttons.save">Save</button>
            <button class="flex-1 bg-white border border-blue-600 text-blue-600 rounded-xl py-2 font-semibold disabled:opacity-40" data-preset-load disabled data-i18n="buttons.load">Load</button>
            <button class="px-4 py-2 rounded-xl border border-slate-200 text-slate-600 disabled:opacity-40" data-preset-delete disabled data-i18n="buttons.delete">Delete</button>
          </div>
          <p class="text-xs text-slate-500" data-preset-meta data-i18n="presets.neverSaved">Never saved</p>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./src/firebase.js"></script>
  <script type="module" src="./src/main.js"></script>
  <script type="module" src="./src/ui-utils.js"></script>
  <script type="module" src="./src/admin-dashboard.js"></script>
  <script type="module" src="./src/admin-live-editor.js"></script>
</body>
</html>
